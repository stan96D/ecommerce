<nav aria-label="Progress">
  <ol role="list" class="flex items-center justify-center">
    {% for phase in progress_phases %}
      <li class="relative {% if not forloop.last %}pr-8 sm:pr-20{% endif %}">
        <!-- Line between steps, only render line if not the last phase -->
        {% if not forloop.last %}
          <div class="absolute inset-0 flex items-center" aria-hidden="true">
            <div
              class="h-0.5 w-full
              {% if phase.status == 'completed' %}
                bg-orange-400
              {% else %}
                bg-gray-200
              {% endif %}
            "
            ></div>
          </div>
        {% endif %}

        <!-- Phase Dot -->
        <div class="flex flex-col items-center" title="{{ phase.name }}">
          {% if phase.status == 'completed' %}
            <!-- Completed Step -->
            <div
              class="relative flex size-8 items-center justify-center rounded-full bg-orange-400 hover:bg-orange-900"
            >
              <svg
                class="size-5 text-white"
                viewBox="0 0 20 20"
                fill="currentColor"
                aria-hidden="true"
                data-slot="icon"
              >
                <path
                  fill-rule="evenodd"
                  d="M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
          {% elif phase.status == 'current' %}
            <!-- Current Step -->
            <div
              class="relative flex size-8 items-center justify-center rounded-full border-2 border-orange-600 bg-white"
              aria-current="step"
            >
              <span
                class="size-2.5 rounded-full bg-orange-400"
                aria-hidden="true"
              ></span>
            </div>
          {% else %}
            <!-- Upcoming Step -->
            <div
              class="group relative flex size-8 items-center justify-center rounded-full border-2 border-gray-300 bg-white hover:border-gray-400"
            >
              <span
                class="size-2.5 rounded-full bg-transparent group-hover:bg-gray-300"
                aria-hidden="true"
              ></span>
            </div>
          {% endif %}
        </div>
      </li>
    {% endfor %}
  </ol>
</nav>
