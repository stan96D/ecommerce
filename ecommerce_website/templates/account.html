{% extends 'components/main.html' %}
{% load static tailwind_tags %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="mx-auto max-w-2xl px-4 lg:max-w-7xl lg:px-8">
    <div class="border-b pb-12 border-gray-200 pt-24 relative">
        <h1 class="text-4xl font-bold tracking-tight text-gray-900" id="header-text">Account</h1>
        <p class="mt-4 text-base text-gray-500">Hoi, Stan Deckers!</p>

        <!-- Move buttons inside the header -->
        <div class="mb-6 flex items-center justify-end gap-x-6 absolute bottom-0 right-0">
            <button type="button" class="text-sm font-semibold leading-6 text-gray-900">Annuleer</button>
            <button type="submit"
                class="rounded-md bg-amber-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-customColor focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-amber-500">Opslaan</button>
        </div>
    </div>
</div>

<div class="mx-auto max-w-7xl  lg:flex lg:gap-x-16 lg:px-8">
    <h1 class="sr-only">General Settings</h1>
    <aside
        class="flex overflow-x-auto border-b border-gray-900/5 py-4 lg:block lg:w-64 lg:flex-none lg:border-0 lg:py-20">
        <nav class="flex-none px-4 sm:px-6 lg:px-0">
            <ul role="list" class="flex gap-x-3 gap-y-1 whitespace-nowrap lg:flex-col">
                <li>
                    <a href="#" id="account" onclick="showMain('account')"
                        class="aside-link group flex gap-x-3 rounded-md py-2 pl-2 pr-3 text-sm leading-6 font-semibold hover:bg-gray-50 hover:text-amber-500">
                        <i class="far fa-user flex-shrink-0 mt-1"></i>
                        <span>Account</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="adresgegevens" onclick="showMain('adresgegevens')"
                        class="aside-link group flex gap-x-3 rounded-md py-2 pl-2 pr-3 text-sm leading-6 font-semibold hover:bg-gray-50 hover:text-amber-500">
                        <i class="far fa-address-card flex-shrink-0 mt-1"></i>
                        <span>Adresgegevens</span>
                    </a>
                </li>
                <li>
                    <a href="#" id="orders" onclick="showMain('orders')"
                        class="aside-link group flex gap-x-3 rounded-md py-2 pl-2 pr-3 text-sm leading-6 font-semibold hover:bg-gray-50 hover:text-amber-500">
                        <i class="far fa-file-alt flex-shrink-0 mt-1"></i>
                        <span>Orders</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <section id="section-account" class="hidden px-4 py-16 sm:px-6 lg:flex-auto lg:px-0 lg:py-20">
        account
        <!-- Content for Account -->
    </section>

    <section id="section-adresgegevens" class="hidden px-4 py-16 sm:px-6 lg:flex-auto lg:px-0 lg:py-20">
        <!-- Content for Adresgegevens -->
        adres
    </section>

    <section id="section-orders" class="hidden px-4 py-16 sm:px-6 lg:flex-auto lg:px-0 lg:py-20">
        
        {% for order in orders %}

            {% include 'components/order_history.html' %}

        {% endfor %}
    </section>
</div>

<script>
    function showMain(section) {
        // Hide all main elements
        document.querySelectorAll('section').forEach(main => {
            main.classList.add('hidden');
        });

        // Show the selected main element
        const selectedMain = document.getElementById(`section-${section}`);
        selectedMain.classList.remove('hidden');

        // Update header text based on the selected section
        const headerText = document.getElementById('header-text');
        switch (section) {
            case 'account':
                headerText.textContent = 'Account';
                break;
            case 'adresgegevens':
                headerText.textContent = 'Adresgegevens';
                break;
            case 'orders':
                headerText.textContent = 'Orders';
                break;
            default:
                break;
        }
    }

    // Call showMain function to display a specific section on initialization
    window.onload = function () {
        // Replace 'account' with the desired section name
        showMain('account');

        // Highlight the initially selected aside item (Account)
        const initialAsideLink = document.getElementById('account');
        initialAsideLink.classList.add('bg-gray-50', 'text-amber-500');
    };

    // Add event listeners to handle click events and highlight the selected aside item
    document.querySelectorAll('.aside-link').forEach(link => {
        link.addEventListener('click', function () {
            document.querySelectorAll('.aside-link').forEach(link => {
                link.classList.remove('bg-gray-50', 'text-amber-500');
            });
            this.classList.add('bg-gray-50', 'text-amber-500');
        });
    });
</script>
{% endblock %}